{"version":3,"sources":["assets/image/KGToffchaincoin.png","actions/accounts.js","constant/contract/usersSystem.js","assets/css/metamask.svg","components/Popup/ConnectedPopup.js","images/walletconnect.png","redux/user/user.actions.js","services/contracts/accounts.js","routers/AppRoutes.js","assets/css/Kaby-Logo.png","assets/image/kaby-coin.png","assets/image/KGTcoin.png","containers/market-layout/Header.js","utilities/hooks.js","containers/layout/NewAppLayout.js","redux/user/user.selectors.js"],"names":["getToken","localStorage","getItem","undefined","createOffChainAccount","headers","data","a","token","Authorization","console","log","http","post","result","getOffChainAccount","address","params","get","getAllTransactions","networkId","pageSize","pageNumber","transactionType","getInfoTransaction","TxId","id","addWithdrawTransaction","sign","message","toAddress","value","fee","from","systemWithdrawWallet","recipientAddress","to","timestamp","Date","now","config","instance","axios","create","baseURL","process","paramsSerializer","queryString","stringify","interceptors","response","use","error","err","Promise","reject","this","systemDepositWallet","systemDepositWalletProduction","systemWithdrawWalletProduction","ConnectedPopup","showModalWallet","handleCloseModalWallet","isFromHeroDetail","useWeb3React","activate","deactivate","ctx","useContext","ModalContext","handleConnect","injected","walletType","setWallet","then","res","e","handleWalletconnect","walletconnect","getWalletConnectProvider","walletSupported","useEffect","setIsModalOpen","toast","warn","getErrorMessage","Modal","centered","show","onHide","className","Header","closeButton","Title","Body","onClick","metamask","type","width","height","src","IconMetamask","alt","Footer","setCurrentUser","user","UserActionTypes","SET_CURRENT_USER","payload","signRandomMessage","getInfoWallet","web3","account","eth","personal","signature","returnSuccess","returnError","signLoginMessage","Market","lazy","Stake","Wallet","Training","HeroDetail","ItemDetail","Account","AppRoutes","path","routePath","component","props","history","useHistory","useState","mobileDropDownMarket","setMobileDropDownMarket","mobileDropDownWallet","setMobileDropDownWallet","param","setParam","paramWallet","setParamWallet","balance","setBalance","kabyGameTokenBalance","setKabyGameTokenBalance","connected","setConnected","handleOpen","chainId","connector","isHover","setIsHover","isHoverWallet","setIsHoverWallet","isMobile","setIsMobile","handleResize","window","innerWidth","dispatch","useDispatch","useSelector","selectCurrentUser","accountOffchainAPI","accountOnChain","catch","status","getInfo","addEventListener","removeEventListener","activatingConnector","setActivatingConnector","useLayoutEffect","suppress","active","ethereum","on","handleNetworkChanged","removeListener","handleChainChanged","handleAccountsChanged","accounts","length","useInactiveListener","tried","setTried","isAuthorized","useEagerConnect","showMobileMenu","setMobileMenu","handleClose","isWalletConnected","WalletConnectConnector","checkSupportedNetwork","info","acc","getTokenBalance","kabyBalance","Number","handleBalanceWallet","close","disconnected","getKabyGameTokenBalance","handleKabyGameBalanceWallet","onMouseEnter","onMouseLeave","activeClassName","exact","Math","round","amount","KGToffchaincoin","currentitem","place","effect","KGTcoin","KabyCoinIcon","Dropdown","Toggle","style","minWidth","marginRight","split","substring","Menu","Item","removeItem","Button","icon","faBars","floor","push","KabyLogo","prev","viewBox","fill","xmlns","d","React","createContext","isModalOpen","AppLayout","Provider","filter","children","createSelector","state","currentUser"],"mappings":"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","file":"static/js/HPwBJc.a7754c.13.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/D0xx39.a87642.KGToffchaincoin.png\";","import axios from 'axios'\nimport { systemWithdrawWallet, systemWithdrawWalletProduction } from 'constant/contract/usersSystem'\nimport queryString from 'query-string'\n\nconst { REACT_APP_ENVIRONMENT } = process.env\nclass userAPI {\n  constructor() {\n    const instance = axios.create({\n      baseURL: process.env.REACT_APP_ACCOUNT_API,\n      headers: {\n        'content-type': 'application/json',\n      },\n      paramsSerializer: (params) => queryString.stringify(params),\n    })\n\n    instance.interceptors.response.use(\n      (response) => {\n        // Return JSON data\n        if (response.data) {\n          return response.data\n        }\n        return response\n      },\n      (error) => {\n        // Attempt to get the actual error returned from API\n        const err = (error.response && error.response.data && error.response.data) || error\n\n        return Promise.reject(err) // Propagate rejection back to caller\n      }\n    )\n    this.http = instance\n  }\n\n  getToken = () => {\n    return localStorage.getItem('token') ? `Bearer ${localStorage['token']}` : undefined\n  }\n\n  createOffChainAccount = async (headers, data) => {\n    try {\n      const token = this.getToken()\n      if (token) {\n        headers.Authorization = token\n      }\n      console.log('createOffChainAccount', data, headers)\n      const result = await this.http.post('create-user', data, { headers })\n      return result\n    } catch (err) {\n      throw err\n    }\n  }\n\n  getOffChainAccount = async (headers, { address }) => {\n    try {\n      const params = { address }\n      headers.Authorization = this.getToken()\n      const result = await this.http.get('user', { params, headers })\n      return result\n    } catch (err) {\n      throw err\n    }\n  }\n\n  getAllTransactions = async ({\n    networkId = 1,\n    pageSize = 20,\n    pageNumber = 1,\n    transactionType = '',\n    address = '',\n  }) => {\n    try {\n      const params = {\n        networkId,\n        pageSize,\n        pageNumber,\n        transactionType,\n        address,\n      }\n      const headers = { Authorization: this.getToken() }\n      const result = await this.http.get('transactions', { params, headers })\n      return result\n    } catch (err) {\n      throw err\n    }\n  }\n\n  getInfoTransaction = async ({ TxId }) => {\n    try {\n      const params = { id: TxId }\n      const headers = { Authorization: this.getToken() }\n      const result = await this.http.get('transaction', { params, headers })\n      return result\n    } catch (err) {\n      throw err\n    }\n  }\n\n  addWithdrawTransaction = async (\n    { sign, message },\n    { toAddress, value, networkId = 1, fee = 200 }\n  ) => {\n    try {\n      const from =\n        REACT_APP_ENVIRONMENT === 'development'\n          ? systemWithdrawWallet\n          : systemWithdrawWalletProduction\n      const data = {\n        transactionType: 'Withdraw',\n        from,\n        recipientAddress: toAddress,\n        to: toAddress,\n        value,\n        fee,\n        networkId,\n        timestamp: Date.now(),\n      }\n      const token = this.getToken()\n      const config = token\n        ? {\n            headers: { sign, message, Authorization: token },\n          }\n        : {\n            headers: { sign, message },\n          }\n      console.log(config, data)\n      const result = await this.http.post('add-transaction', data, config)\n      return result\n    } catch (err) {\n      throw err\n    }\n  }\n}\n\nexport default new userAPI()\n","export const systemDepositWallet = '0xBc1E664b55097eFFB6532cD6dB252A711A94663F'\nexport const systemDepositWalletProduction = '0x5c4C3bAD96f485694eb459AC77B5FF454b65e33a'\nexport const systemWithdrawWallet = '0xA71Af07EB156074E32d4E3bFE58f75B045ED034a'\nexport const systemWithdrawWalletProduction = '0x3091a7ce03267AD8cA0E2265f57F6c779eD3A791'\n","export default __webpack_public_path__ + \"static/media/IqgdTe.c8c781.metamask.svg\";","import React, { useEffect, useContext } from 'react'\nimport { Modal } from 'react-bootstrap'\nimport IconMetamask from 'assets/css/metamask.svg'\nimport WalletConnect from 'images/walletconnect.png'\nimport { injected, setWallet, getWalletConnectProvider, walletSupported } from 'constant/connector'\nimport './popup.scss'\nimport { useWeb3React } from '@web3-react/core'\nimport { getErrorMessage } from 'constant/connector'\nimport { toast } from 'react-toastify'\nimport ModalContext from 'containers/layout/NewAppLayout'\nconst ConnectedPopup = ({ showModalWallet, handleCloseModalWallet, isFromHeroDetail }) => {\n  const { activate, error, deactivate } = useWeb3React()\n  const ctx = useContext(ModalContext)\n  const handleConnect = (injected, walletType) => {\n    try {\n      setWallet(walletType)\n      activate(injected).then((res) => {\n        return handleCloseModalWallet()\n      })\n    } catch (e) {}\n  }\n  const handleMetamask = () => {\n    handleConnect(injected, walletSupported.metamask)\n  }\n  const handleWalletconnect = async () => {\n    const walletconnect = getWalletConnectProvider()\n    handleConnect(walletconnect, walletSupported.walletconnect)\n  }\n\n  useEffect(() => {\n    if (isFromHeroDetail) {\n      ctx.setIsModalOpen(showModalWallet)\n    } else {\n      return\n    }\n  }, [showModalWallet])\n  useEffect(() => {\n    if (error) {\n      deactivate()\n      return toast.warn(getErrorMessage(error))\n    }\n  }, [error, deactivate])\n\n  return (\n    <Modal\n      centered\n      show={showModalWallet}\n      onHide={handleCloseModalWallet}\n      className=\"modal-connect-wallet\"\n    >\n      <div className=\"connected-popup\">\n        <div className=\"ant-modal-header\">\n          <Modal.Header closeButton>\n            <Modal.Title>Connect to a wallet</Modal.Title>\n          </Modal.Header>\n        </div>\n        <Modal.Body>\n          <div className=\"centered\">\n            <button onClick={handleMetamask} type=\"button\" className=\"connected-btn\">\n              <div className=\"metamask-icon\">\n                <img width=\"24\" height=\"24\" src={IconMetamask} alt=\"\" />\n              </div>\n              <div className=\"wallet-name\">MetaMask</div>\n            </button>\n            <button onClick={handleWalletconnect} type=\"button\" className=\"connected-btn\">\n              <div className=\"metamask-icon\">\n                <img width=\"40\" height=\"24\" src={WalletConnect} alt=\"\" />\n              </div>\n              <div className=\"wallet-name\">WalletConnect</div>\n            </button>\n          </div>\n          {/* {error && <div className='error'>{getErrorMessage(error)}</div>} */}\n        </Modal.Body>\n        <Modal.Footer></Modal.Footer>\n      </div>\n    </Modal>\n  )\n}\n\nexport default ConnectedPopup\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADgAAAAgCAYAAABHA7voAAAC+ElEQVRYCc1Y0W3kIBClhCvhSrjPrNmTtoR0kHRw28Glg81PzoZE2u3gStgSXIJL2M+TbJCjAbOyMZgBY+UiWTisDe8N8x6DCdng73DuvxWleKbv8lQw8bdgsoGLMnGDS91zWVMurvDMjonHh/Lf9w2g5BtSkXqXvxVoJnqacnFZ7/60x/+K7EPZHVaR8gWCy/OXEoXJIf2SVspHytX/FUR3XP4a9JSWii4iy30NaDqfoBZGokyeNl81L1l5WoC27icwkTStyZpW8lxU3WtRdi/3q4L0lnV0sLisAcs6No63Kdi6N7KWa1biCimFAaLctxTPhSJsjeObj4urA2J6lwKh97Flza00BDAuWrYXRCCbdDaeN7Vrqs3aRbLZl93B82p0N4w1FAbzubZKUUDpJLnRhGo1bY2W7QWT9tERHb8wmbhsL+Pftrg3KbuvutctxneOCVH8ycSj88cNOrOlfwG1JBM9tLlxjtK7gfvc4wexzzfwfJtq8db+sEyjgb5cJG3sswWiXJxd1gy15lpRq2JcH5NsR7ytTT29fXnqYS7OKoDBDZzLOjWl6Ef/5ArcpO+jf0pZSSAXxi6uxEodO8rm/2jdGE1MyHgqk1lKBRiP9Gzw+drGvbe5gaBJxpAzAcCSjCF3zzy4QRa+QXOwBW8I4NplYwNjQh3TXMXHomCnK3pz7YFaE26zwpHThbbP2AY9wzcdXzrq/lC1AxVDcBAm+h1rj0YqKMFrYPqDUwikZWzDAXuZGBM9utrZl90LhiToJlYTsc9j9QyYTcBRLZYkShNMTAwqgmQ4JWHlYsmZCFDWHjErufiMS/DDyQRpbIupufpbDVQbyFWaAfEZhglghLHNxgZMayshg4M4aknXhNO+iKMU1thGmRLcru7gsTcRuknSRITmJ3rG4kc9hyGZLHhCCILkduRMBNSeZ39KGPa11YInhHiNzWNWBlfWVpGcfv3KJ3hCCFRKE2MLVSdZ2Y0G0ykl65yHVzO8rjtlja5OzItW+wk4GpJAJA+XIwAAAABJRU5ErkJggg==\"","import { UserActionTypes } from './user.types'\n\nexport const setCurrentUser = (user) => ({\n  type: UserActionTypes.SET_CURRENT_USER,\n  payload: user,\n})\n","import { getInfoWallet } from './wallet'\nimport { returnError, returnSuccess } from 'services/utils/returnFormat'\n\nexport async function signRandomMessage() {\n  try {\n    const { web3, account } = await getInfoWallet()\n    const message = `If you click the \"sign\" button, you agree to authorize us to make this transaction. Your Wallet Address: ${account} Timestamp: ${Date.now()}`\n    const signature = await web3.eth.personal.sign(message, account)\n\n    return returnSuccess({\n      signature,\n      message,\n    })\n  } catch (error) {\n    return returnError(error.message)\n  }\n}\n\nexport async function signLoginMessage() {\n  try {\n    const { web3, account } = await getInfoWallet()\n    const message = `If you click the \"sign\" button, you agree to authorize us to make this transaction. Your Wallet Address: ${account} Timestamp: ${Date.now()}`\n    const signature = await web3.eth.personal.sign(message, account)\n\n    return returnSuccess({\n      signature,\n      message,\n    })\n  } catch (error) {\n    return returnError(error.message)\n  }\n}\n","import React, { lazy } from 'react'\nimport * as routePath from 'configs/route_path'\nimport { AppLayout } from 'containers/layout/NewAppLayout'\nimport { Switch, Route } from 'react-router-dom'\nconst Market = lazy(() => import('containers/market-new-design/NewMarketPage'))\n//const Summon = lazy(() => import(\"containers/summon/SummonPageContainer\"));\nconst Stake = lazy(() => import('containers/Stake/StakeContainer'))\nconst Wallet = lazy(() => import('containers/wallet/WalletContainer'))\nconst Training = lazy(() => import('containers/training/TrainingContainer'))\nconst HeroDetail = lazy(() => import('containers/hero-detail/HeroDetailContainer'))\nconst ItemDetail = lazy(() => import('containers/item-detail/ItemDetailContainer'))\nconst Account = lazy(() => import('containers/accounts'))\n// const Maintain = lazy(() => import('containers/maintain/MaintainContainer'))\nconst AppRoutes = () => (\n  <Switch>\n    <AppLayout>\n      {/* <Route path={routePath.MAINTAIN} component={Maintain}></Route> */}\n      {/* <Route path={routePath.MARKET_PATH} component={Market}></Route>\n      <Route path={routePath.STAKE_PATH} component={Stake}></Route>\n      <Route path={routePath.WALLET_PATH} component={Wallet}></Route>\n      <Route path={routePath.TRAINING} component={Training}></Route>\n      <Route path={routePath.HERO_DETAIL} component={HeroDetail}></Route>\n      <Route path={routePath.ITEM_DETAIL} component={ItemDetail}></Route>\n      <Route path={routePath.ACCOUNT} component={Account}></Route> */}\n      <Route path={routePath.MARKET_PATH} component={Market}></Route>\n      <Route path={routePath.STAKE_PATH} component={Stake}></Route>\n      <Route path={routePath.WALLET_PATH} component={Wallet}></Route>\n      <Route path={routePath.TRAINING} component={Training}></Route>\n      <Route path={routePath.HERO_DETAIL} component={HeroDetail}></Route>\n      <Route path={routePath.ITEM_DETAIL} component={ItemDetail}></Route>\n      <Route path={routePath.ACCOUNT} component={Account}></Route>\n      {/* <Route path={routePath.MAINTAIN} component={Maintain}></Route> */}\n    </AppLayout>\n  </Switch>\n)\nexport default AppRoutes\n","export default __webpack_public_path__ + \"static/media/D0xx39.820734.Kaby-Logo.png\";","export default __webpack_public_path__ + \"static/media/D0xx39.9b152b.kaby-coin.png\";","export default __webpack_public_path__ + \"static/media/D0xx39.f960d9.KGTcoin.png\";","import React, { useEffect, useLayoutEffect, useState } from 'react'\nimport './Header.scss'\nimport KabyLogo from 'assets/css/Kaby-Logo.png'\nimport { useHistory, Link, NavLink } from 'react-router-dom'\nimport { useWeb3React } from '@web3-react/core'\nimport ConnectedPopup from 'components/Popup/ConnectedPopup'\nimport { getInfoWallet } from 'services/contracts/wallet'\nimport KabyCoinIcon from 'assets/image/kaby-coin.png'\n// import OffChainCoinIcon from \"assets/image/offchain-coin.png\";\nimport KGTcoin from 'assets/image/KGTcoin.png'\nimport KGToffchaincoin from 'assets/image/KGToffchaincoin.png'\nimport { Button, Dropdown } from 'react-bootstrap'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faBars } from '@fortawesome/free-solid-svg-icons'\nimport { checkSupportedNetwork } from 'constant/contract'\nimport { useEagerConnect, useInactiveListener } from 'utilities/hooks'\nimport { setWallet, walletSupported } from 'constant/connector'\nimport * as routePath from '../../configs/route_path'\nimport { toast } from 'react-toastify'\nimport { WalletConnectConnector } from '@web3-react/walletconnect-connector'\nimport { setCurrentUser } from 'redux/user/user.actions'\nimport { useDispatch, useSelector } from 'react-redux'\nimport accountOffchainAPI from 'actions/accounts'\nimport { selectCurrentUser } from 'redux/user/user.selectors'\nimport ReactTooltip from 'react-tooltip'\nimport { signLoginMessage } from 'services/contracts/accounts'\n\nconst Header = (props) => {\n  const history = useHistory()\n  const [mobileDropDownMarket, setMobileDropDownMarket] = useState(false)\n  const [mobileDropDownWallet, setMobileDropDownWallet] = useState(false)\n  const [param, setParam] = useState('hero')\n  const [paramWallet, setParamWallet] = useState('hero')\n  const [balance, setBalance] = useState(0)\n  const [kabyGameTokenBalance, setKabyGameTokenBalance] = useState(0)\n  const [connected, setConnected] = useState(false)\n  // const emitterRef = useRef([]);\n  const handleOpen = () => {\n    setConnected(true)\n  }\n  const { account, chainId, error, connector, deactivate } = useWeb3React()\n  const [isHover, setIsHover] = useState(false)\n  const [isHoverWallet, setIsHoverWallet] = useState(false)\n  const [isMobile, setIsMobile] = useState(false)\n  const handleResize = () => {\n    if (window.innerWidth < 700) setIsMobile(true)\n    else setIsMobile(false)\n  }\n  const dispatch = useDispatch()\n  const user = useSelector(selectCurrentUser)\n  useEffect(() => {\n    props.setIsModalOpen(connected)\n  }, [connected, props])\n  useEffect(() => {\n    // Function effect\n    const getInfo = async () => {\n      let user\n      try {\n        user = await accountOffchainAPI\n          .createOffChainAccount(\n            {},\n            {\n              accountOnChain: account,\n            }\n          )\n          .catch((error) => {\n            return error\n          })\n        if (user.status === 'error') {\n          const sign = await signLoginMessage()\n          if (sign.error) {\n            toast.error('No sign')\n            return\n          }\n          const headers = {\n            sign: sign.data?.signature,\n            message: sign.data?.message,\n          }\n          user = await accountOffchainAPI.createOffChainAccount(headers, {\n            accountOnChain: account,\n          })\n        }\n        // dispatch(setCurrentUser(user.data))\n        // localStorage.setItem('token', user.data.jwt)\n      } catch (e) {\n        console.log(e)\n      }\n    }\n\n    // effect content\n    if (!account) {\n      dispatch(setCurrentUser(null))\n      return\n    }\n    getInfo()\n    // eslint-disable-next-line\n  }, [account])\n\n  useEffect(() => {\n    window.addEventListener('resize', handleResize)\n    handleResize()\n    return () => window.removeEventListener('resize', handleResize)\n  }, [])\n\n  const [activatingConnector, setActivatingConnector] = useState()\n\n  useLayoutEffect(() => {\n    if (activatingConnector && activatingConnector === connector) {\n      setActivatingConnector(undefined)\n    }\n  }, [activatingConnector, connector])\n\n  const triedEager = useEagerConnect()\n\n  useInactiveListener(!triedEager || !!activatingConnector)\n  const [showMobileMenu, setMobileMenu] = useState(false)\n\n  const handleClose = () => {\n    setConnected(false)\n    setMobileMenu(false)\n  }\n\n  useEffect(() => {\n    if (!account || !chainId || !connector) {\n      dispatch(setCurrentUser(null))\n      setBalance(0)\n      setKabyGameTokenBalance(0)\n      return\n    }\n    const isWalletConnected = connector instanceof WalletConnectConnector\n\n    setWallet(isWalletConnected ? walletSupported.walletconnect : walletSupported.metamask)\n    if (chainId) {\n      const isSupported = checkSupportedNetwork(chainId)\n\n      if (!isSupported) {\n        toast.info(\"Network isn't supported!\")\n        return deactivate()\n      }\n      const handleBalanceWallet = async (acc) => {\n        const { getTokenBalance } = await getInfoWallet()\n        const { kabyBalance } = await getTokenBalance(acc)\n        setBalance(Number(kabyBalance) || 0)\n      }\n      handleBalanceWallet(account)\n      // listenChangebalance(account);\n    }\n    const disconnected = async () => {\n      return connector.close()\n    }\n    if (error && isWalletConnected) {\n      disconnected()\n      handleClose()\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [chainId, connector, account, error, deactivate])\n\n  useEffect(() => {\n    if (!user) {\n      return\n    }\n    const handleKabyGameBalanceWallet = async (acc) => {\n      const { getKabyGameTokenBalance } = await getInfoWallet()\n      const { kabyGameTokenBalance } = await getKabyGameTokenBalance(acc).catch((error) => {})\n      setKabyGameTokenBalance(kabyGameTokenBalance || 0)\n    }\n    handleKabyGameBalanceWallet(user.address)\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [user, chainId])\n\n  return (\n    <>\n      {connected && (\n        <ConnectedPopup showModalWallet={connected} handleCloseModalWallet={handleClose} />\n      )}\n      {!isMobile && (\n        <div className=\"font-face-ac top-header bg-transparent\">\n          <div className=\"market-page-header \">\n            {/* <div onClick={() => history.push(\"/\")} className=\"market-page-header-logo\">\n              <img alt=\"kaby\" src={KabyLogo}></img>\n            </div> */}\n            <div className=\"market-page-header-menu\">\n              <div\n                className=\"market-page-header-menu-text-item\"\n                onMouseEnter={() => {\n                  setIsHover(true)\n                }}\n                onMouseLeave={() => {\n                  setIsHover(false)\n                }}\n              >\n                <NavLink\n                  onClick={() => {\n                    setIsHover(false)\n                  }}\n                  // to={`${routePath.MARKET_PATH}`}\n                  to={`${routePath.MARKET_PATH}?param=${param}`}\n                  activeClassName=\"header-active\"\n                  // className=\"market-page-header-menu-text\"\n                  exact\n                >\n                  MARKETPLACE\n                </NavLink>\n                {/* <span>HEROES</span>\n                <span>ITEMS</span> */}\n                <div\n                  onMouseEnter={() => {\n                    setIsHover(true)\n                  }}\n                  // onMouseLeave={() => {\n                  //   setIsHover(false);\n                  // }}\n                  className=\"market-page-header-menu-text-item-children\"\n                >\n                  {isHover && (\n                    <div className=\"market-page-header-menu-text-item-children-background\"></div>\n                  )}\n                  {isHover && (\n                    <NavLink\n                      onClick={() => {\n                        setIsHover(false)\n                        setParam('hero')\n                      }}\n                      to={`${routePath.MARKET_PATH}?param=hero`}\n                      // activeClassName=\"header-active\"\n                      id=\"hover-item\"\n                      // className=\"market-page-header-menu-text\"\n                      exact\n                    >\n                      HEROES\n                    </NavLink>\n                  )}\n                  {isHover && (\n                    <NavLink\n                      onClick={() => {\n                        setIsHover(false)\n                        setParam('item')\n                      }}\n                      to={`${routePath.MARKET_PATH}?param=item`}\n                      // to={routePath.MAINTAIN}\n                      // activeClassName=\"header-active\"\n                      // className=\"market-page-header-menu-text\"\n                      exact\n                    >\n                      ITEMS\n                    </NavLink>\n                  )}\n                </div>\n              </div>\n              {/* \n              <NavLink\n                to={routePath.STAKE_PATH}\n                activeClassName=\"header-active\"\n                className=\"market-page-header-menu-text\"\n                exact\n              >\n                STAKE\n              </NavLink> */}\n              {/* <NavLink\n                to={routePath.SUMON_PATH}\n                activeClassName=\"header-active\"\n                className=\"market-page-header-menu-text\"\n                exact\n              >\n                SUMMON\n              </NavLink> */}\n              {account && (\n                <>\n                  <div\n                    className=\"market-page-header-menu-text-item\"\n                    onMouseEnter={() => {\n                      setIsHoverWallet(true)\n                    }}\n                    onMouseLeave={() => {\n                      setIsHoverWallet(false)\n                    }}\n                  >\n                    <NavLink\n                      onClick={() => {\n                        setIsHoverWallet(false)\n                      }}\n                      to={`${routePath.WALLET_PATH}?param=${paramWallet}`}\n                      // to={`${routePath.WALLET_PATH}`}\n                      activeClassName=\"header-active\"\n                      // className=\"market-page-header-menu-text\"\n                      exact\n                    >\n                      WALLET\n                    </NavLink>\n                    {/* <span>HEROES</span>\n                <span>ITEMS</span> */}\n                    <div\n                      // style={{ left: \"-20px\" }}\n                      onMouseEnter={() => {\n                        setIsHoverWallet(true)\n                      }}\n                      // onMouseLeave={() => {\n                      //   setIsHoverWallet(false);\n                      // }}\n                      className=\"market-page-header-menu-text-item-children\"\n                    >\n                      {isHoverWallet && (\n                        <div className=\"market-page-header-menu-text-item-children-background\"></div>\n                      )}\n                      {isHoverWallet && (\n                        <NavLink\n                          onClick={() => {\n                            setIsHoverWallet(false)\n                            setParamWallet('hero')\n                          }}\n                          to={`${routePath.WALLET_PATH}?param=hero`}\n                          // activeClassName=\"header-active\"\n                          id=\"hover-item\"\n                          // className=\"market-page-header-menu-text\"\n                          exact\n                        >\n                          HEROES\n                        </NavLink>\n                      )}\n                      {isHoverWallet && (\n                        <NavLink\n                          onClick={() => {\n                            setIsHoverWallet(false)\n                            setParamWallet('item')\n                          }}\n                          to={`${routePath.WALLET_PATH}?param=item`}\n                          // to={routePath.MAINTAIN}\n                          // activeClassName=\"header-active\"\n                          // className=\"market-page-header-menu-text\"\n                          exact\n                        >\n                          ITEMS\n                        </NavLink>\n                      )}\n                    </div>\n                  </div>\n                  <></>\n                </>\n              )}\n              {/* <NavLink\n                to={routePath.TRAINING}\n                activeClassName=\"header-active\"\n                className=\"market-page-header-menu-text\"\n                exact\n              >\n                TRAINING\n              </NavLink>\n              <a\n                href=\"https://tokensfarm.com/kaby/lp/1\"\n                target=\"_blank\"\n                rel=\"noreferrer\"\n                className=\"market-page-header-menu-text\"\n              >\n                LP FARM\n              </a>\n              <a\n                href=\" https://play.kabyarena.com/\"\n                target=\"_blank\"\n                rel=\"noreferrer\"\n                className=\"market-page-header-menu-text\"\n              >\n                PLAY\n              </a> */}\n            </div>\n            <div className=\"market-page-header-info \">\n              <div className=\"market-page-header-info-content \">\n                <span data-tip data-for=\"KGT-ingame\">\n                  {Math.round(Number(user?.amount || 0) * 10000) / 10000}{' '}\n                </span>\n                <img data-tip data-for=\"KGT-ingame\" alt=\"#\" src={KGToffchaincoin}></img>\n                <ReactTooltip\n                  className=\"tooltip\"\n                  currentitem=\"true\"\n                  id=\"KGT-ingame\"\n                  place=\"top\"\n                  effect=\"solid\"\n                >\n                  KGT in game\n                </ReactTooltip>\n              </div>\n            </div>\n            <div className=\"market-page-header-info \">\n              <div className=\"market-page-header-info-content \">\n                <span data-tip data-for=\"KGT-inwallet\">\n                  {Math.round(Number(kabyGameTokenBalance || 0) * 10000) / 10000}{' '}\n                </span>\n                <img data-tip data-for=\"KGT-inwallet\" alt=\"#\" src={KGTcoin}></img>\n                <ReactTooltip className=\"tooltip\" id=\"KGT-inwallet\" place=\"top\" effect=\"solid\">\n                  KGT in wallet\n                </ReactTooltip>\n              </div>\n            </div>\n            <div className=\"market-page-header-info \">\n              <div className=\"market-page-header-info-content mr-1\">\n                <span data-tip data-for=\"KGT-KABY\">\n                  {Math.round(balance * 10000) / 10000}{' '}\n                </span>\n                <img data-tip data-for=\"KGT-KABY\" alt=\"#\" src={KabyCoinIcon}></img>\n                <ReactTooltip className=\"tooltip\" id=\"KGT-KABY\" place=\"top\" effect=\"solid\">\n                  KABY in wallet\n                </ReactTooltip>\n              </div>\n              {account ? (\n                <>\n                  <Dropdown>\n                    <Dropdown.Toggle\n                      style={{\n                        width: 'auto',\n                        minWidth: '10rem',\n                        marginRight: '0px',\n                      }}\n                      split={false}\n                      className=\"market-page-header-info-text-connect border-0 p-1 \"\n                      id=\"dropdown-basic\"\n                    >\n                      {`${account.substring(0, 6)}...${account.substring(account.length - 4)}`}\n                    </Dropdown.Toggle>\n\n                    <Dropdown.Menu className=\"market-page-header-info-text-connect border-0  link mt-1 \">\n                      {/* <Dropdown.Item style={{ borderBottom: '1px solid white' }}>\n                        <NavLink to={routePath.ACCOUNT} exact>\n                          Account\n                        </NavLink>\n                      </Dropdown.Item> */}\n                      <Dropdown.Item>\n                        <div\n                          onClick={() => {\n                            if (connector instanceof WalletConnectConnector) connector.close()\n                            localStorage.removeItem('token')\n                            dispatch(setCurrentUser(null))\n                            return deactivate()\n                          }}\n                        >\n                          DISCONNECT\n                        </div>\n                      </Dropdown.Item>\n                    </Dropdown.Menu>\n                  </Dropdown>\n                </>\n              ) : (\n                <div\n                  onClick={() => {\n                    handleOpen()\n                    // console.log(\"is connect\", connected);\n                  }}\n                  className=\"market-page-header-info-text-connect\"\n                >\n                  CONNECT\n                </div>\n              )}\n              {/* {account && (\n                <div\n                  onClick={() => {\n                    if (connector instanceof WalletConnectConnector)\n                      connector.close();\n                    return deactivate();\n                  }}\n                  className=\"disconnect-walletconnect\"\n                >\n                  DISCONNECT\n                </div>\n              )} */}\n            </div>\n          </div>\n        </div>\n      )}\n      {isMobile && (\n        <div className=\"mobile\">\n          <div className=\"menu-btn\">\n            <Button onClick={() => setMobileMenu(true)}>\n              <FontAwesomeIcon icon={faBars} />\n            </Button>\n            <div className=\"info-container-header\">\n              <div className=\"wallet\">\n                <div className=\" wrap balance\">\n                  <span data-tip data-for=\"KGT-ingame\">\n                    {Math.floor(Number(user?.amount || 0))}{' '}\n                  </span>\n                  <ReactTooltip\n                    className=\"tooltip\"\n                    currentitem=\"true\"\n                    id=\"KGT-ingame\"\n                    place=\"top\"\n                    effect=\"solid\"\n                  >\n                    KGT in game\n                  </ReactTooltip>\n                  <img alt=\"#\" src={KGToffchaincoin}></img>\n                </div>\n                <div className=\" wrap balance\">\n                  <span data-tip data-for=\"KGT-wallet\">\n                    {Math.floor(Number(kabyGameTokenBalance || 0))}{' '}\n                  </span>\n                  <ReactTooltip\n                    className=\"tooltip\"\n                    currentitem=\"true\"\n                    id=\"KGT-wallet\"\n                    place=\"top\"\n                    effect=\"solid\"\n                  >\n                    KGT in wallet\n                  </ReactTooltip>\n                  <img alt=\"#\" src={KGTcoin}></img>\n                </div>\n                <div className=\" wrap balance\">\n                  <span data-tip data-for=\"KGT-KABY\">\n                    {Math.floor(balance)}{' '}\n                  </span>\n                  <ReactTooltip\n                    className=\"tooltip\"\n                    currentitem=\"true\"\n                    id=\"KGT-KABY\"\n                    place=\"top\"\n                    effect=\"solid\"\n                  >\n                    KABY in game\n                  </ReactTooltip>\n                  <img alt=\"#\" src={KabyCoinIcon}></img>\n                </div>\n              </div>\n              {account ? (\n                <>\n                  <div className=\"wrap account\">\n                    {`${account.substring(0, 2)}...${account.substring(account.length - 4)}`}\n                  </div>\n                </>\n              ) : (\n                <div\n                  onClick={() => {\n                    handleOpen()\n                    // console.log(\"is connect\", connected);\n                  }}\n                  className=\"wrap account\"\n                >\n                  CONNECT\n                </div>\n              )}\n            </div>\n          </div>\n\n          {showMobileMenu && (\n            <div className=\"nav\">\n              <div className=\"menu\">\n                <div onClick={() => history.push('/')} className=\"menu-logo\">\n                  <img alt=\"kaby\" src={KabyLogo}></img>\n                </div>\n\n                <div className=\"d-flex flex-column align-items-center\">\n                  <div\n                    onClick={() => {\n                      setMobileDropDownMarket((prev) => !prev)\n                    }}\n                    to={`${routePath.MARKET_PATH}?param=${param}`}\n                    // to={`${routePath.MARKET_PATH}`}\n                    className=\"link p-2\"\n                  >\n                    MARKETPlACE\n                    <svg\n                      width=\"9\"\n                      height=\"6\"\n                      viewBox=\"0 0 9 6\"\n                      fill=\"none\"\n                      xmlns=\"http://www.w3.org/2000/svg\"\n                    >\n                      <path d=\"M4.83341 5.5L9.00008 0.5H0.666748L4.83341 5.5Z\" fill=\"white\" />\n                    </svg>\n                  </div>\n                  {mobileDropDownMarket && (\n                    <Link\n                      onClick={() => {\n                        setMobileMenu(false)\n                        setMobileDropDownMarket(false)\n                        setParam('hero')\n                      }}\n                      to={`${routePath.MARKET_PATH}?param=hero`}\n                      className=\"link p-2\"\n                    >\n                      HERO\n                    </Link>\n                  )}\n                  {mobileDropDownMarket && (\n                    <Link\n                      onClick={() => {\n                        setMobileMenu(false)\n                        setMobileDropDownMarket(false)\n                        setParam('item')\n                      }}\n                      to={`${routePath.MARKET_PATH}?param=item`}\n                      className=\"link p-2\"\n                    >\n                      ITEM\n                    </Link>\n                  )}\n                  <Link\n                    onClick={() => {\n                      setMobileMenu(false)\n                    }}\n                    to={routePath.STAKE_PATH}\n                    className=\"link p-2\"\n                  >\n                    STAKE\n                  </Link>\n\n                  {account && (\n                    <>\n                      {/* \n                      \n                      <Link\n                        onClick={() => {\n                          setMobileMenu(false);\n                        }}\n                        to={routePath.WALLET_PATH}\n                        className=\"link p-2\"\n                      >\n                        WALLET\n                      </Link>\n                      <Button\n                        style={{ width: \"auto\", minWidth: \"unset\" }}\n                        split={false}\n                        className=\"bg-transparent border-0 link p-0\"\n                        id=\"dropdown-basic\"\n                      >\n                        Account\n                      </Button>\n                      <ListGroup>\n                        <ListGroup.Item disabled>\n                          Cras justo odio\n                        </ListGroup.Item>\n                        <ListGroup.Item>Dapibus ac facilisis in</ListGroup.Item>\n                        <ListGroup.Item>Morbi leo risus</ListGroup.Item>\n                        <ListGroup.Item>Porta ac consectetur ac</ListGroup.Item>\n                      </ListGroup> */}\n                      <>\n                        {' '}\n                        <div\n                          onClick={() => {\n                            setMobileDropDownWallet((prev) => !prev)\n                          }}\n                          to={routePath.WALLET_PATH}\n                          className=\"link p-2\"\n                        >\n                          WALLET\n                          <svg\n                            width=\"9\"\n                            height=\"6\"\n                            viewBox=\"0 0 9 6\"\n                            fill=\"none\"\n                            xmlns=\"http://www.w3.org/2000/svg\"\n                          >\n                            <path d=\"M4.83341 5.5L9.00008 0.5H0.666748L4.83341 5.5Z\" fill=\"white\" />\n                          </svg>\n                        </div>\n                        {mobileDropDownWallet && (\n                          <Link\n                            onClick={() => {\n                              setMobileMenu(false)\n                              setMobileDropDownWallet(false)\n                              setParamWallet('hero')\n                            }}\n                            to={`${routePath.WALLET_PATH}?param=hero`}\n                            className=\"link p-2\"\n                          >\n                            HERO\n                          </Link>\n                        )}\n                        {mobileDropDownWallet && (\n                          <Link\n                            onClick={() => {\n                              setMobileMenu(false)\n                              setMobileDropDownWallet(false)\n                              setParamWallet('item')\n                            }}\n                            to={`${routePath.WALLET_PATH}?param=item`}\n                            className=\"link p-2\"\n                          >\n                            ITEM\n                          </Link>\n                        )}\n                        <NavLink\n                          onClick={() => {\n                            setMobileMenu(false)\n                          }}\n                          to={routePath.ACCOUNT}\n                          activeClassName=\"header-active\"\n                          className=\"link\"\n                          exact\n                        >\n                          Account\n                        </NavLink>\n                      </>\n                    </>\n                  )}\n                  {/* <Link\n                    to={routePath.TRAINING}\n                    onClick={() => {\n                      setMobileMenu(false)\n                    }}\n                    className=\"link p-2\"\n                  >\n                    TRAINING\n                  </Link>\n                  <a\n                    href=\"https://tokensfarm.com/kaby/lp/1\"\n                    target=\"_blank\"\n                    rel=\"noreferrer\"\n                    className=\"link p-2\"\n                  >\n                    LP FARM\n                  </a>\n                  <a\n                    href=\"https://play.kabyarena.com/\"\n                    target=\"_blank\"\n                    rel=\"noreferrer\"\n                    className=\"link p-2\"\n                  >\n                    PLAY\n                  </a> */}\n                </div>\n                {account && (\n                  <div\n                    onClick={() => {\n                      if (connector instanceof WalletConnectConnector) return connector.close()\n                      return deactivate()\n                    }}\n                    className=\"disconnect-walletconnect\"\n                  >\n                    DISCONNECT\n                  </div>\n                )}\n              </div>\n              <div className=\"backdrop\" onClick={() => setMobileMenu(false)}></div>\n            </div>\n          )}\n        </div>\n      )}\n    </>\n  )\n}\n\nexport default Header\n","import { useState, useEffect } from 'react'\nimport { useWeb3React } from '@web3-react/core'\n\nimport { injected } from 'constant/connector'\n\nexport function useEagerConnect() {\n  const { activate, active } = useWeb3React()\n\n  const [tried, setTried] = useState(false)\n\n  useEffect(() => {\n    injected.isAuthorized().then((isAuthorized) => {\n      if (isAuthorized) {\n        activate(injected, undefined, true).catch(() => {\n          setTried(true)\n        })\n      } else {\n        setTried(true)\n      }\n    })\n  }, [activate]) // intentionally only running on mount (make sure it's only mounted once :))\n\n  // if the connection worked, wait until we get confirmation of that to flip the flag\n  useEffect(() => {\n    if (!tried && active) {\n      setTried(true)\n    }\n  }, [tried, active])\n\n  return tried\n}\n\nexport function useInactiveListener(suppress = false) {\n  const { active, error, activate } = useWeb3React()\n\n  useEffect(() => {\n    const { ethereum } = window\n    if (!ethereum) return\n    if (ethereum && ethereum.on && !active && !error && !suppress) {\n      const handleConnect = () => {\n        console.log(\"Handling 'connect' event\")\n        activate(injected)\n      }\n      const handleChainChanged = (chainId) => {\n        console.log(\"Handling 'chainChanged' event with payload\", chainId)\n        activate(injected)\n      }\n      const handleAccountsChanged = (accounts) => {\n        console.log(\"Handling 'accountsChanged' event with payload\", accounts)\n        if (accounts.length > 0) {\n          activate(injected)\n        }\n      }\n      const handleNetworkChanged = (networkId) => {\n        console.log(\"Handling 'networkChanged' event with payload\", networkId)\n\n        activate(injected)\n      }\n\n      ethereum.on('connect', handleConnect)\n      ethereum.on('chainChanged', handleChainChanged)\n      ethereum.on('accountsChanged', handleAccountsChanged)\n      ethereum.on('networkChanged', handleNetworkChanged)\n\n      return () => {\n        if (ethereum.removeListener) {\n          ethereum.removeListener('connect', handleConnect)\n          ethereum.removeListener('chainChanged', handleChainChanged)\n          ethereum.removeListener('accountsChanged', handleAccountsChanged)\n          ethereum.removeListener('networkChanged', handleNetworkChanged)\n        }\n      }\n    } else {\n      const handleNetworkChanged = () => {}\n\n      ethereum && ethereum.on('networkChanged', handleNetworkChanged)\n      return () => {\n        if (ethereum && ethereum.removeListener) {\n          ethereum.removeListener('networkChanged', handleNetworkChanged)\n        }\n      }\n    }\n  }, [active, error, suppress, activate])\n}\n","import React, { useState } from 'react'\nimport Header from './../market-layout/Header'\nconst ModalContext = React.createContext({\n  isModalOpen: false,\n})\nexport const AppLayout = (props) => {\n  const [isModalOpen, setIsModalOpen] = useState(false)\n  return (\n    <div className=\"content-app\">\n      <Header\n        setIsModalOpen={(value) => {\n          setIsModalOpen(value)\n        }}\n      />\n      <ModalContext.Provider\n        value={{\n          isModalOpen: isModalOpen,\n          setIsModalOpen: (value) => setIsModalOpen(value),\n        }}\n      >\n        <div style={{ filter: isModalOpen && 'blur(24px)' }} className=\"layout-content\">\n          {props.children}\n        </div>\n      </ModalContext.Provider>\n      {/* <Footer /> */}\n    </div>\n  )\n}\n\nexport default ModalContext\n","import { createSelector } from 'reselect'\n\nconst selectUser = (state) => state.user\n\nexport const selectCurrentUser = createSelector([selectUser], (user) => user.currentUser)\n"],"sourceRoot":""}